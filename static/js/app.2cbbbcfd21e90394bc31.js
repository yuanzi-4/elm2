webpackJsonp([1],{"5h/s":function(t,a){},"99SC":function(t,a){},ASR9:function(t,a){},AVvm:function(t,a){},D6TR:function(t,a){},Dtdm:function(t,a){},EOkm:function(t,a){},H9zd:function(t,a){},M37L:function(t,a){},NHnr:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s=e("xd7I"),n={render:function(){var t=this.$createElement,a=this._self._c||t;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},staticRenderFns:[]};var i=e("C7Lr")({name:"App"},n,!1,function(t){e("OLxv")},null,null).exports,o=e("7LQH"),r=e("3cXf"),c=e.n(r),l=e("Muz9"),u=e.n(l),d={name:"header",data:function(){return{hot:"",userInfo:{}}},props:["goback","Title","sou","home","deng","add"],mounted:function(){var t=this,a=this.$route.query.id;u.a.get("http://elm.cangdu.org/v1/cities/"+a).then(function(a){t.hot=a.data.name}),this.userInfo=this.$store.state.userInfo}},v={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"header"},[t.goback?e("span",{on:{click:function(a){return t.$router.go(-1)}}},[e("div",{staticClass:"el-icon-arrow-left"})]):t._e(),t._v(" "),t.Title?e("div",[e("span",[t._v(t._s(t.hot))])]):t._e(),t._v(" "),t.sou?e("router-link",{attrs:{to:"/city"}},[e("div",{staticClass:"el-icon-search"})]):t._e(),t._v(" "),t.home?e("div",[e("span",[t._v(t._s(t.home))])]):t._e(),t._v(" "),t.add?e("div",[e("span",[t._v(t._s(t.add))])]):t._e(),t._v(" "),t.deng?e("router-link",{attrs:{to:"/zhuce"}},[""!==this.userInfo.username?e("router-link",{attrs:{to:"/main"}},[e("span",{staticClass:"el-icon-user-solid"})]):e("span",[t._v("登陆注册")])],1):t._e()],1)},staticRenderFns:[]};var h=e("C7Lr")(d,v,!1,function(t){e("Dtdm")},null,null).exports,_={name:"HelloWorld",data:function(){return{input:"",hot:"",list:"",arr:[]}},components:{Header:h},mounted:function(){var t=JSON.parse(localStorage.getItem("seek"))||[];this.arr=t},methods:{push:function(){var t=this;u.a.get("http://elm.cangdu.org/v1/pois?type=search&city_id="+this.$route.query.id+"&keyword="+this.input).then(function(a){console.log(a),t.arr=a.data})},dian:function(t){var a=JSON.parse(localStorage.getItem("seek"))||[],e={name:t.name,address:t.address};if(-1!=a.findIndex(function(a){return t.name==a.name}))return!1;a.unshift(e),localStorage.setItem("seek",c()(a))},clear:function(t){this.arr.splice(t),localStorage.setItem("seek",c()(this.arr))}}},p={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"hello"},[e("Header",{attrs:{Title:"true"}}),t._v(" "),e("div",{staticClass:"tijiao"},[e("el-input",{attrs:{placeholder:"输入学校，商务楼，地址"},model:{value:t.input,callback:function(a){t.input=a},expression:"input"}}),t._v(" "),e("el-button",{attrs:{type:"primary"},on:{click:t.push}},[t._v("提交")])],1),t._v(" "),e("div",{staticClass:"sou"},[t._v("搜索内容")]),t._v(" "),e("router-link",{attrs:{to:"/"}},t._l(t.arr,function(a,s){return e("div",{key:s,staticClass:"city",on:{click:function(e){return t.dian(a)}}},[e("h2",[t._v(t._s(a.name))]),t._v(" "),e("span",[t._v(t._s(a.address))])])}),0),t._v(" "),e("div",{staticClass:"clear"},[e("el-button",{on:{click:t.clear}},[t._v("清楚所有")])],1)],1)},staticRenderFns:[]};var m=e("C7Lr")(_,p,!1,function(t){e("RXZs")},null,null).exports,f=e("s+Au"),g=e.n(f),C=(e("elTb"),{name:"footer",components:{Button:g.a},data:function(){return{}}}),y={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"footer"},[e("router-link",{attrs:{to:"/"}},[e("div",{staticClass:"el-icon-eleme"}),t._v(" "),e("span",[t._v("外卖")])]),t._v(" "),t._m(0),t._v(" "),t._m(1),t._v(" "),e("router-link",{attrs:{to:"/zhuce"}},[e("div",{staticClass:"el-icon-user"}),t._v(" "),e("span",[t._v("我的")])])],1)},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("a",[a("div",{staticClass:"el-icon-view"}),this._v(" "),a("span",[this._v("搜索")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("a",[a("div",{staticClass:"el-icon-document"}),this._v(" "),a("span",[this._v("订单")])])}]};var k=e("C7Lr")(C,y,!1,function(t){e("EOkm")},null,null).exports,b={name:"home",data:function(){return{lun:[],shop:[],arr:[],loading:!1,finished:!1,num:0}},components:{Header:h,Footer:k},mounted:function(){var t=this;u.a.get("http://elm.cangdu.org/v2/index_entry?geohash=39.78493,116.49476&group_type=1&flags[]=F").then(function(a){t.lun=a.data.splice(0,8),t.arr=a.data,console.log(t.arr)}),u.a.get("http://elm.cangdu.org/shopping/restaurants?latitude=39.78493&longitude=116.49476&offset="+this.num+"&limit=30&extras[]=activities&keyword=&restaurant_category_id=&restaurant_category_ids[]=&order_by=&delivery_mode[]=").then(function(a){console.log(a),t.shop=a.data})},methods:{faA:function(t){this.$router.push({name:"xiang",query:{id:t}})},onLoad:function(){var t=this;setTimeout(function(){t.num=t.num+10,u.a.get("https://elm.cangdu.org/shopping/restaurants?latitude=39.78493&longitude=116.49476&offset="+t.num+"&limit=30&extras[]=activities&keyword=&restaurant_category_id=&restaurant_category_ids[]=&order_by=&delivery_mode[]=").then(function(a){console.log(a),t.shop.length<1e3&&(t.shop=t.shop.concat(a.data))}),t.loading=!1,t.shop.length>=100&&(t.finished=!0)},500)}}},x={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"home"},[e("Header",{attrs:{sou:"true",home:"北京吉利大学...",deng:!0}}),t._v(" "),e("div",{staticClass:"lun"},[e("el-carousel",{attrs:{"indicator-position":"outside"}},[e("el-carousel-item",t._l(t.lun,function(a,s){return e("div",{key:s,attrs:{id:"lun"}},[e("img",{staticClass:"im",attrs:{src:"https://fuss10.elemecdn.com"+a.image_url}}),t._v(" "),e("h3",[t._v(t._s(a.title))])])}),0),t._v(" "),e("el-carousel-item",t._l(t.arr,function(a,s){return e("div",{key:s,attrs:{id:"lun"}},[e("img",{staticClass:"im",attrs:{src:"https://fuss10.elemecdn.com"+a.image_url}}),t._v(" "),e("h3",[t._v(t._s(a.title))])])}),0)],1)],1),t._v(" "),e("div",{staticClass:"a"},[t._v("附近商家")]),t._v(" "),e("van-list",{attrs:{finished:t.finished,"finished-text":"没有更多了"},on:{load:t.onLoad},model:{value:t.loading,callback:function(a){t.loading=a},expression:"loading"}},[e("div",t._l(t.shop,function(a,s){return e("div",{key:s,attrs:{id:"shop"},on:{click:function(e){return t.faA(a)}}},[e("img",{staticClass:"im",attrs:{src:"https://elm.cangdu.org/img/"+a.image_path}}),t._v(" "),e("div",{staticClass:"left"},[e("div",{staticClass:"ming"},[e("span",{staticStyle:{background:"yellow"}},[t._v("品牌")]),e("span",[t._v(t._s(a.name))])]),t._v(" "),e("div",{staticClass:"center"},[e("span",{staticClass:"el-icon-star-on"}),t._v(" "),e("span",{staticClass:"el-icon-star-on"}),t._v(" "),e("span",{staticClass:"el-icon-star-on"}),t._v(" "),e("span",{staticClass:"el-icon-star-on"}),t._v(" "),e("span",{staticStyle:{color:"orange"}},[t._v(t._s(a.rating))]),t._v(" "),e("span",[t._v("月销售"+t._s(a.recent_order_num)+"单")])]),t._v(" "),e("p",[t._v("￥"+t._s(a.float_minimum_order_amount)+"起送/配送费约￥"+t._s(a.float_delivery_fee))])]),t._v(" "),e("div",{staticClass:"right"},[e("div",{staticClass:"b"},[e("span",{staticStyle:{border:"solid gainsboro",color:"gray"}},[t._v("保准票")])]),t._v(" "),e("div",{staticClass:"f"},[e("span",{staticStyle:{background:"#3792e5",color:"white"}},[t._v("蜂鸟专送")]),t._v(" "),e("span",{staticStyle:{border:"#3792e5 solid"}},[t._v("准时达")])]),t._v(" "),e("div",[t._v("\r\n        "+t._s(a.distance)+" \r\n    "),e("span",{staticStyle:{color:"#3792e5"}},[t._v(t._s(a.order_lead_time))])])])])}),0)]),t._v(" "),e("Footer")],1)},staticRenderFns:[]};var w=e("C7Lr")(b,x,!1,function(t){e("cN9C")},null,null).exports,$=e("ZLEe"),S=e.n($),E={name:"city",data:function(){return{city:"",hot:{},all:{},cher:[]}},components:{Header:h},mounted:function(){var t=this;u.a.get("http://elm.cangdu.org/v1/cities?type=guess").then(function(a){t.city=a.data.name}),u.a.get("http://elm.cangdu.org/v1/cities?type=hot").then(function(a){console.log(a),t.hot=a.data}),u.a.get("http://elm.cangdu.org/v1/cities?type=group").then(function(a){console.log(a),t.all=a.data,t.cher=S()(a.data).sort()})},computed:{}},H={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"city"},[e("Header",{attrs:{home:"elm.me",deng:"登陆/注册"}}),t._v(" "),t._m(0),t._v(" "),e("div",{staticClass:"c_c"},[e("h2",[t._v(t._s(this.city))]),t._v(" "),e("i",{staticClass:"el-icon-arrow-right"})]),t._v(" "),e("div",{staticClass:"c_c"},[t._v("热门城市")]),t._v(" "),e("div",{staticClass:"hot"},t._l(t.hot,function(a,s){return e("p",{key:s},[e("router-link",{attrs:{to:"/HelloWorld?id="+a.id}},[e("span",[t._v(t._s(a.name))])])],1)}),0),t._v(" "),e("div",{staticClass:"chen"},t._l(t.cher,function(a,s){return e("div",{key:s,staticClass:"all"},[e("div",{staticClass:"meng"},[t._v(t._s(a)+"按字母排序")]),t._v(" "),t._l(t.all[a],function(a,s){return e("div",{key:s,staticClass:"abc"},[t._v("\n        "+t._s(a.name)+"\n        ")])})],2)}),0)],1)},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"c_c"},[a("span",[this._v("当前定位城市：")]),this._v(" "),a("span",[this._v("定位不准却请在城市列表选则")])])}]};var I=e("C7Lr")(E,H,!1,function(t){e("5h/s")},null,null).exports,z=e("4YfN"),L=e.n(z),F=e("2bvH");u.a.defaults.withCredentials=!0;var R={name:"zhuce",components:{Header:h},data:function(){return{name:"",pas:"",value:!0,num:"",code:"",captcha_code:"",ball:!1}},methods:L()({di:function(){this.ball=!0},beforeEnter:function(t){t.style.transform=" translate( 100,500 )"},enter:function(t,a){t.offsetWidth,t.style.transform="translate( 500,500 ) ",t.style.transition="all 3s ease"},afterEnter:function(t){this.ball=!this.ball}},Object(F.b)(["userlogin"]),{dian:function(t){this.value=!("show"===t)},change:function(){var t=this;u.a.post("http://elm.cangdu.org/v2/login",{captcha_code:this.captcha_code,password:this.pas,username:this.name}).then(function(a){if(console.log(a),0==a.data.status)""!==t.captcha_code&&""!==t.pas&&""!==t.name&&t.open();else{t.$router.push({path:"/main"});var e={password:t.pas,username:t.name,id:a.data.id};localStorage.setItem("str",c()(e)),t.userlogin(e),console.log(t.$store.state.userInfo),t.$store.commit("str",e)}}),""==this.captcha_code&&""==this.pas&&""==this.name&&this.zhang()},changeImg:function(){var t=this;u.a.post("http://elm.cangdu.org/v1/captchas",{}).then(function(a){console.log(a),""!=a.data.code&&(t.code=a.data.code)})},open:function(){var t=this;this.$alert("密码错误","标题名称",{confirmButtonText:"确定",callback:function(a){t.$message({type:"info",distinguishCancelAndClose:!0,message:"action: "+a})}})},zhang:function(){var t=this;this.$alert("账号密码或验证码不能为空",{confirmButtonText:"确定",callback:function(a){t.$message({type:"info",distinguishCancelAndClose:!0,message:"action: "+a})}})}}),mounted:function(){var t=this;u.a.post("http://elm.cangdu.org/v1/captchas",{}).then(function(a){console.log(a),""!=a.data.code&&(t.code=a.data.code)})}},q={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"zhuce"},[e("Header",{attrs:{goback:"true",home:"密码登陆"}}),t._v(" "),e("div",{staticClass:"zc"},[e("el-input",{attrs:{placeholder:"账号",user:this.name},model:{value:t.name,callback:function(a){t.name=a},expression:"name"}}),t._v(" "),e("div",{staticClass:"kai"},[t.value?e("el-input",{attrs:{placeholder:"请输入密码","show-password":""},on:{click:function(a){return t.dian("show")}},model:{value:t.pas,callback:function(a){t.pas=a},expression:"pas"}}):e("el-input",{attrs:{placeholder:"请输入密码"},on:{click:function(a){return t.dian("hide")}},model:{value:t.pas,callback:function(a){t.pas=a},expression:"pas"}}),t._v(" "),e("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"gray"},on:{click:t.dian},model:{value:t.value,callback:function(a){t.value=a},expression:"value"}})],1)],1),t._v(" "),e("div",{staticClass:"kai"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.captcha_code,expression:"captcha_code"}],staticStyle:{border:"none",width:"70%"},attrs:{type:"text",placeholder:"验证码"},domProps:{value:t.captcha_code},on:{input:function(a){a.target.composing||(t.captcha_code=a.target.value)}}}),t._v(" "),e("img",{attrs:{src:t.code}}),t._v(" "),e("span",{on:{click:function(a){return t.changeImg()}}},[t._v("换一张")])]),t._v(" "),t._m(0),t._v(" "),e("el-button",{attrs:{type:"success"},on:{click:function(a){return t.change()}}},[t._v("登陆")]),t._v(" "),e("router-link",{attrs:{to:"/deng"}},[e("p",{staticClass:"chong"},[t._v("重置密码？")])]),t._v(" "),e("div",[e("button",{on:{click:t.di}},[t._v("+")]),t._v(" "),e("transition",{on:{"before-enter":t.beforeEnter,enter:t.enter,"after-enter":t.afterEnter}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.ball,expression:"ball"}],staticClass:"ball"})])],1)],1)},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"ti"},[a("p",[this._v("温馨提示：未注册过的账号，登陆时将自动注册")]),this._v(" "),a("p",[this._v("注册过后的用户可凭账号密码登陆")])])}]};var A=e("C7Lr")(R,q,!1,function(t){e("M37L")},null,null).exports,T={name:"deng",components:{Header:h},data:function(){return{input:"",p:"",pa:"",pas:"",code:""}}},N={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"deng"},[e("Header",{attrs:{goback:"true",home:"重置密码"}}),t._v(" "),e("div",{staticClass:"d"},[e("el-input",{attrs:{placeholder:"账号"},model:{value:t.input,callback:function(a){t.input=a},expression:"input"}}),t._v(" "),e("el-input",{attrs:{placeholder:"旧密码","show-password":""},model:{value:t.p,callback:function(a){t.p=a},expression:"p"}}),t._v(" "),e("el-input",{attrs:{placeholder:"请输入新密码","show-password":""},model:{value:t.pa,callback:function(a){t.pa=a},expression:"pa"}}),t._v(" "),e("el-input",{attrs:{placeholder:"请确认密码","show-password":""},model:{value:t.pas,callback:function(a){t.pas=a},expression:"pas"}}),t._v(" "),e("el-input",{attrs:{placeholder:"验证码"},model:{value:t.code,callback:function(a){t.code=a},expression:"code"}}),t._v(" "),e("router-link",{attrs:{to:"/zhuce"}},[e("el-button",{staticStyle:{width:"90%",margin:"20px"},attrs:{type:"success"}},[t._v("确认修改")])],1)],1)],1)},staticRenderFns:[]};var P=e("C7Lr")(T,N,!1,function(t){e("H9zd")},null,null).exports,O={name:"main",components:{Header:h,Foot:k},data:function(){return{user:!1,name:""}},mounted:function(){localStorage.getItem("str")&&(this.user=!0,this.name=JSON.parse(localStorage.getItem("str")).username)}},D={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"main"},[e("Header",{attrs:{goback:"true",home:"我的"}}),t._v(" "),e("div",{staticClass:"top"},[e("div",{staticClass:"a"},[e("img",{staticClass:"privateImage",attrs:{"data-v-0fc4ab7a":"",src:"//elm.cangdu.org/img/default.jpg"}}),t._v(" "),e("div",{staticClass:"m"},[0==t.user?e("div",[e("span",{staticStyle:{"font-size":"30px","font-weight":"bold"}},[t._v("登陆注册")])]):e("div",[e("span",{staticStyle:{"font-size":"30px","font-weight":"bold"}},[t._v(t._s(t.name))])]),t._v(" "),t._m(0)])]),t._v(" "),e("router-link",{attrs:{to:"/main/message"}},[e("span",{staticClass:"el-icon-arrow-right"})])],1),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),t._m(3),t._v(" "),e("Foot")],1)},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("div",[a("span",{staticClass:"el-icon-mobile-phone"}),this._v(" "),a("span",[this._v("暂无绑定手机号")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"num"},[e("a",[e("span",[e("b",{staticStyle:{color:"orange"}},[t._v("0.00")]),t._v(" 元")]),t._v(" "),e("span",[t._v("我的余额")])]),t._v(" "),e("a",[e("span",[e("b",{staticStyle:{color:"red"}},[t._v("3")]),t._v("个")]),t._v(" "),e("span",[t._v("我的优惠")])]),t._v(" "),e("a",[e("span",[e("b",{staticStyle:{color:"green"}},[t._v("0")]),t._v("分")]),t._v(" "),e("span",[t._v("我的积分")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"fen"},[a("div",{staticClass:"ding"},[a("p",{staticClass:"el-icon-s-order"},[this._v("我的订单")]),a("p",{staticClass:"el-icon-right"})]),this._v(" "),a("div",{staticClass:"ding"},[a("div",[a("span",{staticClass:"el-icon-s-cooperation"}),a("span",[this._v("积分商城")])]),this._v(" "),a("p",{staticClass:"el-icon-right"})]),this._v(" "),a("div",{staticClass:"ding"},[a("div",[a("span",{staticClass:"el-icon-potato-strips"}),a("span",[this._v("饿了么会员卡")])]),this._v(" "),a("p",{staticClass:"el-icon-right"})])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"fen"},[a("div",{staticClass:"ding"},[a("div",[a("span",{staticClass:"el-icon-date"}),a("span",[this._v("服务中心")])]),this._v(" "),a("p",{staticClass:"el-icon-right"})]),this._v(" "),a("div",{staticClass:"ding"},[a("div",[a("span",{staticClass:"el-icon-platform-eleme"}),a("span",[this._v("下载饿了么APP")])]),this._v(" "),a("p",{staticClass:"el-icon-right"})])])}]};var j=e("C7Lr")(O,D,!1,function(t){e("TC79")},null,null).exports,B=e("L1SD"),W={components:{Header:h},name:"message",data:function(){return{userInfo:""}},mounted:function(){this.userInfo=this.$store.state.userInfo,this.uid=this.$store.state.userInfo.uid},methods:{tui:function(){var t=this;B.a.confirm({title:"标题",message:"是否退出登陆"}).then(function(){t.$router.push({path:"/main"})}).catch(function(){})},avatarimg:function(){var t=this,a=this.$refs.inp;console.log(a.files[0]);var e=new FormData;e.append("file",a.files[0]);u.a.post("http://elm.cangdu.org/eus/v1/users/"+this.uid+"/avatar",e,{headers:{"Content-Type":"multipart/from-data"}}).then(function(a){console.log(a),console.log(t.$store.state.userInfo.uid),""!=a.data.image_path&&(t.$store.commit("avatar",a.data.image_path),t.userInfo.avatar=a.data.image_path)})}},computed:{login:function(){return this.$store.state.userInfo.login}}},X={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"message"},[e("Header",{attrs:{goback:"true",home:"账户信息"}}),t._v(" "),e("div",{staticClass:"m-top"},[e("div",{staticClass:"m-one"},[e("span",[t._v("头像")]),t._v(" "),e("div",[e("input",{ref:"inp",staticClass:"in",attrs:{type:"file"},on:{change:function(a){return t.avatarimg()}}}),t._v(" "),t.login?e("img",{attrs:{src:"http://elm.cangdu.org/img/"+this.$store.state.userInfo.avatar}}):e("img",{staticClass:"privateImage",attrs:{"data-v-0fc4ab7a":"",src:"//elm.cangdu.org/img/default.jpg"}}),t._v(" "),e("span",{staticClass:"el-icon-arrow-right"})])]),t._v(" "),t._m(0),t._v(" "),e("div",{staticClass:"m-two"},[e("span",[t._v("收货地址")]),t._v(" "),e("div",[e("router-link",{attrs:{to:"/main/add"}},[e("span",{staticClass:"el-icon-arrow-right"})])],1)]),t._v(" "),e("div",{staticClass:"m-bind"},[t._v("账号绑定")]),t._v(" "),t._m(1),t._v(" "),e("div",{staticClass:"m-bind"},[t._v("安全设置")]),t._v(" "),e("div",{staticClass:"m-two"},[e("span",[t._v("密码登陆")]),t._v(" "),e("div",[e("spna",[t._v("修改")]),t._v(" "),e("span",{staticClass:"el-icon-arrow-right"})],1)])]),t._v(" "),e("el-button",{attrs:{type:"danger"},on:{click:function(a){return t.tui()}}},[t._v("退出登陆")])],1)},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"m-two"},[a("span",[this._v("用户名")]),this._v(" "),a("div",[a("span",[this._v("5024")]),this._v(" "),a("span",{staticClass:"el-icon-arrow-right"})])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"m-two"},[a("p",{staticClass:"el-icon-mobile"},[this._v("手机")]),this._v(" "),a("div",[a("span",{staticClass:"el-icon-arrow-right"})])])}]};var J=e("C7Lr")(W,X,!1,function(t){e("gThH")},null,null).exports,M={name:"add",components:{Header:h},data:function(){return{arr:""}},mounted:function(){var t=this;u.a.get("http://elm.cangdu.org/v1/users/38310/addresses").then(function(a){console.log(a),t.arr=a.data})},methods:{del:function(t,a){var e=this;u.a.delete("http://elm.cangdu.org/v1/users/38310/addresses/"+t.id).then(function(t){t.data.success&&e.arr.splice(0,1)})},tian:function(){this.$router.push({path:"/my/indent"})}}},Z={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"add"},[e("Header",{attrs:{goback:"true",home:"编辑地址",add:"编辑"}}),t._v(" "),e("div",{staticClass:"bian"},[e("span",[t._v("编辑地址")]),t._v(" "),e("router-link",{attrs:{to:"/main/address"}},[e("span",{staticClass:"el-icon-arrow-right"})])],1),t._v(" "),t._l(t.arr,function(a,s){return e("div",{key:s,staticClass:"di"},[e("div",{on:{click:function(a){return t.tian()}}},[e("span",[t._v(t._s(a.address))]),t._v(" "),e("span",[t._v(t._s(a.phone))])]),t._v(" "),e("van-icon",{attrs:{name:"close"},on:{click:function(e){return t.del(a,s.id)}}})],1)})],2)},staticRenderFns:[]};var Q=e("C7Lr")(M,Z,!1,function(t){e("ASR9")},null,null).exports,Y={name:"address",components:{Header:h},data:function(){return{name:"",school:"",address:"",phon:"",num:"",s:!1,x:!1}},mounted:function(){this.school=this.$route.query.name,console.log(this.school)},methods:{add:function(){this.$router.push({path:"/main/search"})},tian:function(){var t=this;u.a.post("http://elm.cangdu.org/v1/users/38310/addresses",{address:this.address,address_detail:this.school,geohash:"31.22299,121.36025",phone:this.phon,name:this.name,poi_type:0,sex:1,tag:"公司",tag_type:4}).then(function(a){console.log(a),1==a.data.status?t.$router.push({path:"/main/add"}):B.a.alert({title:"标题",message:"地址信息错误"}).then(function(){})})},addname:function(){this.s=!0},addn:function(){this.s=!1},xie:function(){this.x=!0,this.address.length<5?this.x="地址太短了，不能辨识":this.x=!1}}},U={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"address"},[e("Header",{attrs:{goback:"true",home:"新增地址"}}),t._v(" "),e("div",{staticClass:"res"},[e("van-field",{attrs:{placeholder:"请输入你的姓名"},on:{focus:function(a){return t.addname()},blur:t.addn},model:{value:t.name,callback:function(a){t.name=a},expression:"name"}}),t._v(" "),e("span",{directives:[{name:"show",rawName:"v-show",value:t.s,expression:"s"}],staticClass:"style"},[t._v("请填写您的姓名")]),t._v(" "),e("van-field",{attrs:{placeholder:"小区/写字楼/学校等"},on:{click:function(a){return t.add()}},model:{value:t.school,callback:function(a){t.school=a},expression:"school"}}),t._v(" "),e("van-field",{attrs:{placeholder:"请填写详细送餐地址"},on:{input:function(a){return t.xie()}},model:{value:t.address,callback:function(a){t.address=a},expression:"address"}}),t._v(" "),e("span",{directives:[{name:"show",rawName:"v-show",value:t.x,expression:"x"}],staticClass:"style"},[t._v("请填写详细的送餐地址")]),t._v(" "),e("van-field",{attrs:{placeholder:"请填写能够联系到您的手机号"},model:{value:t.phon,callback:function(a){t.phon=a},expression:"phon"}}),t._v(" "),e("van-field",{attrs:{placeholder:"备用联系电话（选填）"},model:{value:t.num,callback:function(a){t.num=a},expression:"num"}})],1),t._v(" "),e("van-button",{attrs:{type:"primary"},on:{click:function(a){return t.tian()}}},[t._v("新增地址")])],1)},staticRenderFns:[]};var V=e("C7Lr")(Y,U,!1,function(t){e("D6TR")},null,null).exports,G={components:{Header:h},name:"search",data:function(){return{input:"",arr:""}},methods:{search:function(){var t=this;u.a.get("http://elm.cangdu.org/v1/pois?type=search&city_id="+this.$route.query.id+"&keyword="+this.input).then(function(a){t.arr=a.data,console.log(arr)})},dian:function(t){this.$router.push("/main/address?name="+t.name)}}},K={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"search"},[e("Header",{attrs:{goback:"true",home:"搜索地址"}}),t._v(" "),e("div",{staticClass:"sou"},[e("van-field",{model:{value:t.input,callback:function(a){t.input=a},expression:"input"}}),t._v(" "),e("van-button",{attrs:{type:"info"},on:{click:function(a){return t.search()}}},[t._v("确认")])],1),t._v(" "),t._l(t.arr,function(a,s){return e("div",{key:s,staticClass:"list",on:{click:function(e){return t.dian(a)}}},[e("b",[t._v(t._s(a.name))]),t._v(" "),e("span",[t._v(t._s(a.address))])])}),t._v(" "),t._m(0)],2)},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"zi"},[a("span",[this._v("找不到地址？")]),this._v(" "),a("span",[this._v("请尝试输入小区、写字楼或学校名")]),this._v(" "),a("span",[this._v("详细地址（如门牌号）可稍后输入哦")])])}]};var tt=e("C7Lr")(G,K,!1,function(t){e("xilH")},null,null).exports;e("PntX");var at={data:function(){return{liet:[],zhao:[],baimg:"",pei:"",xian:!0,xian1:!1,activeId:1,mainActiveIndex:0,qiai:0,song:20,gou:[],show:!1}},methods:{showPopup:function(){this.show=!0},faA:function(){var t=this;console.log(this.$route.query.id);var a=this.$route.query.id;this.zhao=a,u.a.get("http://elm.cangdu.org/shopping/v2/menu?restaurant_id="+a.id).then(function(a){t.liet=a.data,console.log(t.liet)}),this.baimg="http://elm.cangdu.org//img/"+this.zhao.image_path},faB:function(){this.$router.go(-1)},faC:function(t){t.target.style.color="red",this.xian=!0,this.xian1=!1},faD:function(t){t.target.style.color="red",this.xian=!1,this.xian1=!0,u.a.get("http://elm.cangdu.org/ugc/v2/restaurants/3325/ratings?has_content=true&offset=0&limit=10&tag_name=").then(function(t){console.log(t)})},fBa:function(t,a){var e={name:t.name,qian:t.satisfy_rate,num:1},s=this.gou.findIndex(function(a){return a.name==t.name});for(var n in console.log(s),-1==s?this.gou.unshift(e):this.gou[s].num++,this.qiai=0,this.gou)this.qiai+=this.gou[n].qian*this.gou[n].num;this.song=20,this.song=this.song-this.qiai,this.song<0&&(this.song=0,console.log(this.song))},faQ:function(){this.$router.push({path:"/my/indent"})}},mounted:function(){this.faA()}},et={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{attrs:{id:"xiang"}},[e("van-icon",{attrs:{name:"arrow-left tou"},on:{click:function(a){return t.faB()}}}),t._v(" "),e("div",{style:{"background-image":"url("+t.baimg+")"},attrs:{id:"mohu"}}),t._v(" "),e("div",{attrs:{id:"zhaopai"}},[e("div",[e("img",{attrs:{src:"http://elm.cangdu.org//img/"+t.zhao.image_path}}),t._v(" "),e("div",[e("h3",[t._v(t._s(t.zhao.name))]),t._v(" "),e("p",[t._v("商家配送/分钟送达/"+t._s(t.pei))]),t._v(" "),e("p",[t._v("公告："+t._s(t.zhao.promotion_info))])]),t._v(" "),t.zhao.activities?e("div",[t.zhao.activities[0]?e("p",[t._v(" "+t._s(t.zhao.activities[0].description))]):t._e(),t._v(" "),t.zhao.activities.length?e("p",{staticStyle:{float:"right","margin-top":"-0.5rem"}},[t._v(t._s(t.zhao.activities.length)+"个活动"),e("van-icon",{attrs:{name:"arrow"}})],1):t._e()]):t._e()])]),t._v(" "),e("div",{attrs:{id:"shangpin"}},[e("div",[e("p",{on:{click:function(a){return t.faC(a)}}},[t._v("商品")]),t._v(" "),e("p",{on:{click:function(a){return t.faD(a)}}},[t._v("评论")])])]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.xian,expression:"xian"}],attrs:{id:"gouwu"}},[e("div",t._l(t.liet,function(a,s){return e("h3",{key:s},[e("a",{attrs:{href:"#fa"+s}},[t._v(t._s(a.name))])])}),0),t._v(" "),e("div",t._l(this.liet,function(a,s){return e("div",{key:s},[e("h3",{staticClass:"h"},[t._v(t._s(a.name))]),t._v(" "),t._l(a.foods,function(a,n){return e("div",{key:n},[e("img",{attrs:{src:"http://elm.cangdu.org//img/"+a.image_path}}),t._v(" "),e("div",{staticStyle:{width:"100%"},attrs:{id:"jia"}},[e("h3",{attrs:{id:"fa"+s}},[t._v(t._s(a.name))]),t._v(" "),e("p",[t._v(t._s(a.tips))]),t._v(" "),e("p",{staticStyle:{color:"red"}},[t._v("￥"+t._s(a.satisfy_rate)+"\n                                "),e("button",{staticStyle:{float:"right",border:"0px",background:"#3190E8","border-radius":"0.5rem"},on:{click:function(e){return t.fBa(a,e)}}},[t._v("+")])]),t._v(" "),e("span",{attrs:{id:"qui"}})])])})],2)}),0)]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.xian1,expression:"xian1"}]},[t._v("\n            评论\n        ")]),t._v(" "),e("div",{attrs:{id:"di-1"}},[e("van-icon",{staticClass:"sc",attrs:{name:"cart-circle x"},on:{click:t.showPopup}}),t._v(" "),e("div",[e("p",[t._v("￥"+t._s(t.qiai))]),e("p"),e("p",[t._v(t._s(t.pei))])]),t._v(" "),0!==t.song?e("h3",[t._v("还差￥"+t._s(t.song)+"起送")]):t._e(),t._v(" "),0==t.song?e("h3",{staticStyle:{"text-align":"center",color:"red"},on:{click:function(a){return t.faQ()}}},[t._v("去结算")]):t._e()],1),t._v(" "),e("van-popup",{style:{height:"auto",width:"100%"},attrs:{position:"button"},model:{value:t.show,callback:function(a){t.show=a},expression:"show"}},t._l(this.gou,function(a,s){return e("div",{key:s},[e("p",[t._v(t._s(a.name)),e("span",[t._v(t._s(a.qian))]),t._v(" "),e("van-stepper",{attrs:{value:a.num}})],1)])}),0)],1)},staticRenderFns:[]};var st=e("C7Lr")(at,et,!1,function(t){e("99SC")},null,null).exports,nt={components:{Header:h},name:"indent",data:function(){return{arr:"",a:!0}},mounted:function(){var t=this;u.a.get("http://elm.cangdu.org/v1/users/38310/addresses").then(function(a){console.log(a),t.arr=a.data})}},it={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"indent"},[e("Header",{attrs:{goback:"true",home:"确认订单",deng:!0}}),t._v(" "),e("div",{staticClass:"top"},[e("div",[e("van-icon",{attrs:{name:"location-o"}}),t._v(" "),e("span",[t._v("请添加一个收获地址")])],1),t._v(" "),e("div",t._l(t.arr,function(a,s){return e("div",{key:s},[e("p",[t._v(t._s(a.address))]),t._v(" "),e("p",[t._v(t._s(a.phone))])])}),0),t._v(" "),e("van-icon",{attrs:{name:"arrow"},on:{click:function(a){return t.dian()}}})],1),t._v(" "),t._m(0),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),t._m(3),t._v(" "),t._m(4),t._v(" "),t._m(5)],1)},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"arrived"},[a("h3",[this._v("送到时间")]),this._v(" "),a("div",[a("span",{staticStyle:{color:"blue"}},[this._v("尽快送达|预计 17：12")]),this._v(" "),a("button",[this._v("蜂鸟专送")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"pay"},[a("span",[this._v("支付方式")]),this._v(" "),a("span",{staticStyle:{color:"gray"}},[this._v("在线支付 >")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"pay"},[a("span",{staticStyle:{color:"gray"}},[this._v("红包")]),this._v(" "),a("span",{staticStyle:{color:"gray"}},[this._v("暂时只在饿了么App中支持")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"result"},[e("div",[t._v("效果演示")]),t._v(" "),e("div",{staticClass:"pay"},[e("span",{staticStyle:{color:"gray"}},[t._v("的味道且 二分")]),e("span",{staticStyle:{color:"gray"}},[t._v("x2  ￥20")])]),t._v(" "),e("div",{staticClass:"pay"},[e("span",{staticStyle:{color:"gray"}},[t._v("餐盒")]),e("span",{staticStyle:{color:"gray"}},[t._v("￥2")])]),t._v(" "),e("div",{staticClass:"pay"},[e("span",{staticStyle:{color:"gray"}},[t._v("配送费")]),e("span",{staticStyle:{color:"gray"}},[t._v("￥4")])]),t._v(" "),e("div",{staticClass:"pay"},[e("span",{staticStyle:{color:"gray"}},[t._v("订单￥845")]),e("span",{staticStyle:{color:"gray"}},[t._v("待支付 ￥123")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"list"},[a("div",{staticClass:"pay"},[a("span",{staticStyle:{color:"gray"}},[this._v("订单备注")]),a("span",{staticStyle:{color:"gray"}},[this._v("口味、偏好等 >")])]),this._v(" "),a("div",{staticClass:"pay"},[a("span",{staticStyle:{color:"gray"}},[this._v("订单￥845")]),a("span",{staticStyle:{color:"gray"}},[this._v("不需要开发票 >")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"foot"},[a("span",[this._v("待支付 ￥123")]),this._v(" "),a("button",[this._v("确认订单")])])}]};var ot=e("C7Lr")(nt,it,!1,function(t){e("cYAq")},null,null).exports;s.default.use(o.a);var rt=new o.a({routes:[{path:"/",name:"home",component:w},{path:"/HelloWorld",name:"HelloWorld",component:m},{path:"/city",name:"city",component:I},{path:"/zhuce",name:"zhuce",component:A},{path:"/deng",name:"deng",component:P},{path:"/main",name:"main",component:j},{path:"/main/message",name:"message",component:J},{path:"/main/add",name:"add",component:Q},{path:"/main/address",name:"address",component:V},{path:"/main/search",name:"search",component:tt},{path:"/xiang",name:"xiang",component:st},{path:"/my/indent",name:"indent",component:ot}]}),ct=e("NxjZ"),lt=e.n(ct);e("zlkP"),e("y8TE");s.default.use(F.a);var ut=new F.a.Store({state:{userInfo:{login:!1,username:"",id:!0,avatar:"",uid:""}},getters:{},mutations:{userlogin:function(t,a){t.userInfo=a},avatar:function(t,a){t.avatar=a}},actions:{}});s.default.use(lt.a),s.default.use(B.b),s.default.config.productionTip=!1,new s.default({el:"#app",router:rt,store:ut,components:{App:i},template:"<App/>"})},OLxv:function(t,a){},PntX:function(t,a){},RXZs:function(t,a){},TC79:function(t,a){},bpmU:function(t,a){},cN9C:function(t,a){},cYAq:function(t,a){},gThH:function(t,a){},xilH:function(t,a){},y8TE:function(t,a){},zlkP:function(t,a){}},["NHnr"]);
//# sourceMappingURL=app.2cbbbcfd21e90394bc31.js.map